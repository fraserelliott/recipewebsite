<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">

    <!-- jQuery -->
    <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
    <script src="https://code.jquery.com/ui/1.12.1/jquery-ui.min.js"></script>
    <link rel="stylesheet" href="https://code.jquery.com/ui/1.12.1/themes/base/jquery-ui.css">

    <!-- bootstrap -->
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha1/dist/js/bootstrap.min.js"></script>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha1/dist/css/bootstrap.min.css" rel="stylesheet">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.10.5/font/bootstrap-icons.css">

    <link rel="stylesheet" href="./assets/css/style.css">

    <title>Fraser's Recipes</title>
</head>
<body class="bg-secondary">
    
    <header class="text-white text-center p-3">
        <h1>Fraser's Recipes</h1>
    </header>



    <!-- Navigation Bar -->
    <nav class="d-flex justify-content-between bg-dark">
        <!-- Spacer to center the nav -->
        <div class="w-200px"></div> 

        <ul class="nav justify-content-center flex-grow-1">
            <li class="nav-item">
                <a class="nav-link text-white" href="#">Home</a>
            </li>
            <li class="nav-item">
                <a class="nav-link text-white" href="#">Recipes</a>
            </li>
            <li class="nav-item">
                <a class="nav-link text-white" href="#">Contact</a>
            </li>
        </ul>

        <input type="text" class="w-200px">
    </nav>

    <main class="card-carousel w-md-75 mx-auto my-5">
        <button class="card-carousel-prev card-carousel-btn my-auto border-0 bg-transparent">
            <i class="bi bi-chevron-left fs-1"></i>
        </button>

        <div class="card-carousel-items">

            <div id="carousel-1" class="card card-carousel-item text-center card-carousel-item-1">
                <img src="./assets/images/recipe1.png" class="card-img-top">
                <p class="card-body">Hearty pasta with savory meatballs</p>
            </div>

            <div id="carousel-2" class="card card-carousel-item text-center card-carousel-item-2">
                <img src="./assets/images/recipe2.png" class="card-img-top">
                <p class="card-body">Fresh tomatoes, mozzarella, and basil</p>
            </div>

            <div id="carousel-3" class="card card-carousel-item text-center card-carousel-item-3">
                <img src="./assets/images/recipe3.png" class="card-img-top">
                <p class="card-body">Fluffy, golden stacks with syrup</p>
            </div>

            <div id="carousel-4" class="card card-carousel-item text-center d-none">
                <img src="./assets/images/recipe4.png" class="card-img-top">
                <p class="card-body">Crisp romaine with creamy Caesar dressing</p>
            </div>

            <div id="carousel-5" class="card card-carousel-item text-center d-none">
                <img src="./assets/images/recipe5.png" class="card-img-top">
                <p class="card-body">Creamy avocado dip with lime and herbs</p>
            </div>

            <div id="carousel-6" class="card card-carousel-item text-center d-none">
                <img src="./assets/images/recipe6.png" class="card-img-top">
                <p class="card-body">Warm, rich, and comforting tomato soup</p>
            </div>
        </div>

        <button class="card-carousel-next card-carousel-btn my-auto border-0 bg-transparent">
            <i class="bi bi-chevron-right fs-1"></i>
        </button>
    </main>

    <footer class="text-center bg-dark w-100 text-white footer">
        &copy; Fraser Elliott 2025
    </footer>

    <script>
        $(document).ready(function() {
            var state=1;
            var maxstate=4; //When the 4th image is on the left, the 6th is on the right so we can't advance any more

            var prevbtn = $('.card-carousel-prev');
            var nextbtn =  $('.card-carousel-next');

            prevbtn.click(function() {
                if (state > 1) {
                    state--;
                    
                    //Get the current panel
                    let item1 = $('.card-carousel-item-1');
                    let item2 = $('.card-carousel-item-2');
                    let item3 = $('.card-carousel-item-3');       
                    
                    //Move back 1 in the order. The last item needs to be hidden.
                    item1.removeClass('card-carousel-item-1');
                    item1.addClass('card-carousel-item-2');

                    item2.removeClass('card-carousel-item-2');
                    item2.addClass('card-carousel-item-3');

                    item3.removeClass('card-carousel-item-3');
                    item3.addClass('d-none');

                    //Set card-carousel-item-1. If state is 1 then it's #carousel-1, so it should be #carousel-state
                    let item4 = $('#carousel-' + state);
                    item4.removeClass('d-none');
                    item4.addClass('card-carousel-item-1');

                    if (nextbtn.hasClass('disabled')) {
                        nextbtn.removeClass('disabled'); //We've now gone backwards so next should be enabled
                    }

                    if (state==1) {
                        prevbtn.addClass('disabled'); //disable previous button if it's now at minimum state
                    }
                }
            });

            nextbtn.click(function() {
                if (state < maxstate) {
                    state++;

                    //Get the current panel
                    let item1 = $('.card-carousel-item-1');
                    let item2 = $('.card-carousel-item-2');
                    let item3 = $('.card-carousel-item-3');

                    //Move forwards 1 in the order. The first item needs to be hidden.
                    item1.removeClass('card-carousel-item-1');
                    item1.addClass('d-none');

                    item2.removeClass('card-carousel-item-2');
                    item2.addClass('card-carousel-item-1');

                    item3.removeClass('card-carousel-item-3');
                    item3.addClass('card-carousel-item-2');

                    //Set card-carousel-item-3. If state is 1 then it's #carousel-3, so it should be #carousel-(state+3)
                    let item4 = $('#carousel-' + (state+2));
                    item4.removeClass('d-none');
                    item4.addClass('card-carousel-item-3');
                    
                    if (prevbtn.hasClass('disabled')) {
                        prevbtn.removeClass('disabled'); //We've now gone fowards so previous should be enabled
                    }
                    
                    if (state==maxstate) {
                        nextbtn.addClass('disabled'); //disable next button if it's now at the maximum state
                    }
                }
            });
        });
    </script>

</body>
</html>